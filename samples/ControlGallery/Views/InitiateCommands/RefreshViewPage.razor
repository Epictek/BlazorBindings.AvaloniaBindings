@page "/controls/refreshviews"

<ContentControl Tag="@("RefreshView")">
    <RefreshContainer OnRefreshRequested="Refresh" HorizontalAlignment="HorizontalAlignment.Center">
        <ScrollViewer>
            <StackPanel>
                <Label>Last refresh time: @_refreshTime</Label>
                <Label>Page was refreshed @_refreshCount times.</Label>
                <Button OnClick="TriggerRefresh">Trigger refresh</Button>
            </StackPanel>
        </ScrollViewer>
    </RefreshContainer>
</ContentControl>

@code {
DateTime _refreshTime;
bool _isRefreshing = true;
int _refreshCount = 0;

public async Task Refresh()
{
    await Task.Delay(2000);
    _refreshTime = DateTime.Now;
    _refreshCount++;
}

public void TriggerRefresh()
{
    _isRefreshing = true;
}
}
